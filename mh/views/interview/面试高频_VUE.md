## 目录

- [vue2 和 vue3 的区别是什么？](##1)
- [vue 中 watch 和 computed 的区别？watch 监听是在初始化的时候就会监听？什么场景上使用？](##2)
- [$nextTick()方法的作用？使用场景？如何实现的？](##3)
- [vue 中路由传参有哪些？有什么区别？](##4)
- [option Api 和 Composition Api 的区别？](##5)

## vue2 和 vue3 的区别是什么？

- 公司：

  1. 2024/5/14/10:30 金赛药业（上海外派，线上，薪资：16k-18k）
  2. 2025/2/24/14:00 数云（外派，线下）薪资 15k-18k

- 第一次回答：

  1. vue2 对于数据劫持采用的是 object.defineProperty 的方式，vue3 中数据劫持采用 proxy 代理的方式。解决了对象中添加属性和删除属性中失去响应式的问题。
  2. vue2 中采用的 option api 的方式，vue3 中采用的是 composition api 的方式，区别是 option api 的在每个组件中定义响应式数据，方法，计算属性，侦听器等，这在项目比较简单时候上手是比较容易的，随着项目的复杂度提升，对于逻辑的复用则会变得复杂，所以 vue2 中引入了 mixin（混入）的写法，但是采用 minxin 的写法也有缺陷，比如：命名冲突、依赖关系模糊、可读性差。而 compositon api 采用函数的写法，在逻辑复用等方面更好。
  3. vue3 中对于 ts 的支持度更高。
  4. vue3 中提供了两种构建工具，第一种是 webpack，第二种是 vite。

- 总结：
  1.

## vue 中 watch 和 computed 的区别？watch 监听是在初始化的时候就会监听？什么场景上使用？

- 公司：

  1. 2024/3/27/15:10 上海码纹（自研上海，线上），薪资 15k-25k
  2. 2024/4/29/10:00 括恒技术（自研南京，线上，薪资：15k-18k）
  3. 2024/12/24/19:30 宁波银行（外派宁波，线上）薪资 10K-14k

- 第一次回答：

  1. 计算属性是基于依赖进行缓存的，当依赖的值发生变化的时候，自身才会变化，出现是为了解决 vue 中模版中逻辑过多的问题。
  2. 计算属性的写法需要 return 一个值出去，同时计算属性中不可以执行异步代码。
  3. 计算属性中有两个函数，一个是 get 函数，也是最常用的一种，基于外界的依赖值去更新自身的值，还有一个是 set 方法，基于自身的值去更新外界的值。
  4. watch 是用于监听属性的变化，如果是简单数据类型，则 watch 对象中可以接送监听的两个值，一个新值一个旧值。
  5. 对于复杂数据类型的监听采用的是 handly 函数的方式，同时需要开启 deep：true，同时可以启动首次监听。
  6. 默认情况下不会立即执行，当设置 immediate 为 true 的时候会立即执行。场景：比如监听路由的变化，数据的校验，比如输入框时候正在输入，输入的内容是否符合校验规则等。

- 总结
  1. 计算属性 computed 是基于 vue 中响应式数据生成一个新的值，computed 中是基于数据的依赖，不能使用异步，watch 是观察数据的变化，可以写同步和异步代码。
  2. 计算属性中为什么不可以执行异步，因为计算属性是基于依赖进行缓存的，只有当依赖发生改变的时候才会进行重新计算，而 watch 是监听数据的变化，适合于开销较大或者异步操作时使用。
  3. 使用上面，computed 默认使用的是 getter 方法，就是基于外界的响应式数据去设置自身的值，同时它也有 setter 方法，通过 getter 中返回的自身的值去设置外界的值。watch 中有两种使用方式，分别是对于简单数据类型和复杂数据类型的使用，复杂数据类型需要开启 deep：true，同时可以设置 immediate 为 true，即触发立即执行。
  4. 在 vue3 中 watch 和 computed 的使用基本相同，但是增加了 watchEffect 的使用。watchEffect 会自动追踪响应式依赖，在 watcheffect 中的依赖默认第一次是在组件的渲染之前执行，当响应式数据变化的时候会触发重新执行，同时可以设置 flush 控制 watchEffect 的执行时机。

## $nextTick()方法的作用？使用场景？如何实现的？

- 公司：

  1.  2024/3/01/10:30 货拉拉面试（外派上海，线上）薪资 10K-11k {##1}
  2.  2024/3/27/15:10 上海码纹（自研上海，线上），薪资 15k-25k
  3.  2024/5/14/14:00 红星美凯龙（上海外派，线上，薪资：15k-18k）

- 第一次回答：

  1. nextTick 的作用是用于或者页面中最新的 DOM 数据，在 vue 中使用的是异步更新的策略，数据的更改不会立即触发页面的更新，会等待同一个事件循环中数据都更改完成才去更新页面，这是为了防止不必要的页面频繁更新，比如在事件中对于一个 data 中的属性循环了 1000，每次加一，vue 会等待 1000 次循环完成后去更新页面，而不是每一次循环都去更新页面。
  2. nextText 的底层是根据不同的运行环境进行了不同的异步封装，浏览器环境中封装的是 promise.then、mutationObserver、如果不支持则使用定时器。

- 总结：
  1. nextTick 的作用是下次 DOM 更新之后执行延迟回调，拿到更新后的 DOM，在 vue 中对于数据的修改采用的异步更新策略，当数据发生变化的时候并不会立即更新 DOM，而是开启了一个异步更新队列，当同一事件循环中的所有修改都完成之后再执行 DOM 的更新，这就导致有时我们无法获取到最新的 DOM，比如在 creacted 中去获取获取更新后的 DOM。这个时候需要借助 nextTick 函数，它的底层采用的是 Promise.then、MutationObserver、如果都不支持则用 setTimeout。

## vue 中路由传参有哪些？有什么区别？

- 公司

  1. 2024/3/27/15:10 上海码纹（自研上海，线上），薪资 15k-25k
  2. 2024/4/03/10:00 同企人工（自研苏州，线上线下）薪资 11k-22k

- 第一次回答：

  1. params 和 query 他们两个都是路由传递参数的方式，params 传递参数是通过指定 name 的方式进行传递，query 传递参数可以指定 name 或者 path。
  2. params 传递的参数不会显示在浏览器的 url 上，这样会导致一个问题就是刷新页面参数丢失的问题，解决方案是采用动态传递参数的方式，在路由的地方使用杠冒号的方式，这样传递的参数就可以在 url 上显示。
  3. query 传递的参数是通过问号拼接的方式显示在 url 上，传递的参数隐私性比较差。

- 总结：基本 ok

## option Api 和 Composition Api 的区别？

- 公司

  1.  2024/3/01/10:30 货拉拉面试（外派上海，线上）薪资 10K-11k
  2.  2025/3/13/16:00 爱奇迹（外派，线上）薪资 10-14k

- 第一次回答：
  1、option Api 典型的代表的是 vue2 中的写法，在一个组件中 data、watch、computed、method 等都是组件内置的，在组件中不需要引入，直接使用即可，这样的好处是在小的项目中结构比较清晰，对于初学者比较容易理解，但是缺点也很明显，那就是不利于逻辑的复用，在 vue2 中针对于逻辑的使用的 mixin 的方式，mixin 虽然在一定程度上可以实现逻辑的复用，但是对于结构往往不够清晰，所以在 vue3 中采用的就是 componsition Api 的方式，也就是函数式的写法，解决了逻辑复用的问题。

- 总结：
  1、option Api 是基于组件的选项的来组织代码的，例如 vue2 中的 data、computed、watch、method 等，这种编码方式是初学者利于理解上手，当时对于大项项目不利于逻辑的复用。
  2、compositions Api 是基于函数的编程方式，也是目前主流的编程方式，体现在 vue3 以后 react16.8 以后的版本中，开发者将代码逻辑封装在函数中，这样在其他地方复用逻辑直接引用当前的函数，复用的颗粒度更小。同时 composition API 对于 ts 的支持度更好。
